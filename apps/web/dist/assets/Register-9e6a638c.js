import{c as j,u as S,d as k,r as h,H as o,j as e,m as l,X as p,B as g}from"./index-3e5870c5.js";import{u as C}from"./index.esm-04cc717d.js";import{P as f}from"./PasswordInput-c71e9789.js";import{U as q}from"./user-plus-b4274dd5.js";const P=j("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),y=j("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]);function L(){const m=S(),{toast:c}=k(),{register:i,handleSubmit:b,formState:{errors:t,isSubmitting:d},watch:x}=C(),[a,w]=h.useState({strength:0,requirements:{}}),r=x("password",""),u=x("confirmPassword","");h.useEffect(()=>{r&&w(o.validatePassword(r))},[r]);const v=s=>s<=.3?"bg-red-500":s<=.6?"bg-yellow-500":"bg-green-500",N=async s=>{try{await o.register(s.email,s.password,s.name),c({title:"Cadastro realizado com sucesso",description:"Verifique seu email para confirmar sua conta"}),m("/login")}catch(n){c({variant:"destructive",title:"Erro no cadastro",description:n.message})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-primary/10 rounded-full filter blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary/10 rounded-full filter blur-3xl"})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(l.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl font-extrabold tracking-tight bg-gradient-to-r from-primary via-primary/80 to-secondary bg-clip-text text-transparent",children:"Metalgest"}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Crie sua conta"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Comece a gerenciar sua metalúrgica de forma eficiente"})]}),e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-8",children:[e.jsx("div",{className:"bg-white/60 backdrop-blur-lg p-8 rounded-2xl shadow-lg border border-gray-100",children:e.jsxs("form",{className:"space-y-6",onSubmit:b(N),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome completo"}),e.jsx("input",{...i("name",{required:"Nome é obrigatório"}),type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors duration-200",placeholder:"Seu nome"}),t.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{...i("email",{required:"Email é obrigatório",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email inválido"}}),type:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors duration-200",placeholder:"seu@email.com"}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),e.jsx(f,{register:i,name:"password",label:"Senha",placeholder:"••••••••",error:t.password,validation:{required:"Senha é obrigatória",validate:s=>o.validatePassword(s).isValid||"A senha não atende aos requisitos mínimos"}}),r&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${v(a.strength)} transition-all duration-300`,style:{width:`${a.strength*100}%`}})}),e.jsx("div",{className:"mt-2 space-y-1",children:Object.entries({"Mínimo 8 caracteres":a.requirements.hasMinLength,"Uma letra maiúscula":a.requirements.hasUpperCase,"Uma letra minúscula":a.requirements.hasLowerCase,"Um número":a.requirements.hasNumber,"Um símbolo":a.requirements.hasSymbol}).map(([s,n])=>e.jsxs("div",{className:"flex items-center text-sm",children:[n?e.jsx(y,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx(p,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("span",{className:n?"text-green-700":"text-red-700",children:s})]},s))})]}),e.jsx(f,{register:i,name:"confirmPassword",label:"Confirme sua senha",placeholder:"••••••••",error:t.confirmPassword,validation:{required:"Confirme sua senha",validate:s=>s===r||"As senhas não conferem"}}),r&&u&&e.jsx("div",{className:"mt-2 flex items-center text-sm",children:r===u?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 text-green-500 mr-2"}),e.jsx("span",{className:"text-green-700",children:"Senhas conferem"})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("span",{className:"text-red-700",children:"Senhas não conferem"})]})}),e.jsx(l.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(g,{type:"submit",disabled:d,className:"w-full py-2 px-4 flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-all duration-200",children:d?"Criando conta...":e.jsxs(e.Fragment,{children:["Criar conta",e.jsx(q,{className:"w-4 h-4"})]})})})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(g,{type:"button",variant:"link",onClick:()=>m("/login"),className:"text-sm text-primary hover:text-primary/90 flex items-center justify-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Já tem uma conta? Entre"]})})]})]})})]})})}export{L as default};
