import{d as y,j as e,B as c,F as w}from"./index-3e5870c5.js";import{u as S}from"./index.esm-04cc717d.js";import{o as T,s as l,e as C,d as O,t as P,T as E,a as A,b as m,c as x}from"./tabs-21993d5d.js";import{C as a,b as t,c as i,a as r,d as I}from"./card-0f409810.js";import{f as j}from"./index-0bd7da91.js";import{R as D,C as F,X as k,Y as z,T as q,B}from"./generateCategoricalChart-4b073a80.js";import{B as M,A as R}from"./BarChart-3c6d8656.js";import{T as _}from"./tag-e9c13a98.js";import"./isEqual-aeb8bf80.js";const G=T({quoteId:l().min(1,"Orçamento é obrigatório"),clientId:l().min(1,"Cliente é obrigatório"),responsibleId:l().min(1,"Responsável é obrigatório"),status:C(["waiting","in_progress","paused","finished","delivered"]),deadline:l().min(1,"Data de entrega é obrigatória"),notes:l().optional(),tags:O(l()).optional()}),J=[{id:"1",name:"João Silva"},{id:"2",name:"Maria Santos"}],V=[{id:"1",clientName:"Cliente A",items:[{description:"Produto 1",quantity:2,price:100},{description:"Serviço 1",quantity:1,price:150}]}],K=[{id:"1",clientName:"Cliente A",responsibleName:"João Silva",status:"in_progress",deadline:"2025-04-30",items:[{description:"Produto 1",quantity:2}]}],L=[{month:"Jan",completed:12},{month:"Fev",completed:19},{month:"Mar",completed:15},{month:"Abr",completed:22}];function se(){const{toast:u}=y(),{register:d,handleSubmit:g,watch:h,setValue:p,formState:{errors:n}}=S({resolver:P(G),defaultValues:{status:"waiting",tags:[],createdAt:j(new Date,"yyyy-MM-dd")}}),v=s=>{console.log(s),u({title:"Ordem de serviço criada com sucesso!",description:"A OS foi registrada e os responsáveis foram notificados."})},b=s=>({waiting:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",paused:"bg-orange-100 text-orange-800",finished:"bg-green-100 text-green-800",delivered:"bg-purple-100 text-purple-800"})[s]||"bg-gray-100 text-gray-800",N=s=>({waiting:"Em Espera",in_progress:"Em Produção",paused:"Pausada",finished:"Finalizada",delivered:"Entregue"})[s]||s;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Produção"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas ordens de serviço"})]}),e.jsxs(E,{defaultValue:"dashboard",className:"space-y-4",children:[e.jsxs(A,{children:[e.jsx(m,{value:"dashboard",children:"Dashboard"}),e.jsx(m,{value:"new",children:"Nova OS"}),e.jsx(m,{value:"list",children:"Lista de OS"})]}),e.jsxs(x,{value:"dashboard",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Total de OS"})}),e.jsx(r,{children:e.jsx("p",{className:"text-2xl font-bold",children:"24"})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Em Produção"})}),e.jsx(r,{children:e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"8"})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Finalizadas"})}),e.jsx(r,{children:e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"12"})})]}),e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Atrasadas"})}),e.jsx(r,{children:e.jsx("p",{className:"text-2xl font-bold text-red-600",children:"4"})})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(a,{children:[e.jsxs(t,{children:[e.jsx(i,{children:"Desempenho da Produção"}),e.jsx(I,{children:"OS finalizadas por mês"})]}),e.jsx(r,{className:"h-[300px]",children:e.jsx(D,{width:"100%",height:"100%",children:e.jsxs(M,{data:L,children:[e.jsx(F,{strokeDasharray:"3 3"}),e.jsx(k,{dataKey:"month"}),e.jsx(z,{}),e.jsx(q,{}),e.jsx(B,{dataKey:"completed",fill:"#4F46E5"})]})})})]})})]}),e.jsx(x,{value:"new",children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Nova Ordem de Serviço"})}),e.jsx(r,{children:e.jsxs("form",{onSubmit:g(v),className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Orçamento *"}),e.jsxs("select",{...d("quoteId"),className:"w-full rounded-md border p-2",children:[e.jsx("option",{value:"",children:"Selecione um orçamento"}),V.map(s=>e.jsx("option",{value:s.id,children:s.clientName},s.id))]}),n.quoteId&&e.jsx("span",{className:"text-sm text-red-500",children:n.quoteId.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Responsável *"}),e.jsxs("select",{...d("responsibleId"),className:"w-full rounded-md border p-2",children:[e.jsx("option",{value:"",children:"Selecione um responsável"}),J.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),n.responsibleId&&e.jsx("span",{className:"text-sm text-red-500",children:n.responsibleId.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("select",{...d("status"),className:"w-full rounded-md border p-2",children:[e.jsx("option",{value:"waiting",children:"Em Espera"}),e.jsx("option",{value:"in_progress",children:"Em Produção"}),e.jsx("option",{value:"paused",children:"Pausada"}),e.jsx("option",{value:"finished",children:"Finalizada"}),e.jsx("option",{value:"delivered",children:"Entregue"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Prazo de Entrega *"}),e.jsx("input",{type:"date",...d("deadline"),className:"w-full rounded-md border p-2"}),n.deadline&&e.jsx("span",{className:"text-sm text-red-500",children:n.deadline.message})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Observações"}),e.jsx("textarea",{...d("notes"),className:"w-full rounded-md border p-2",rows:4})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{type:"button",variant:"outline",size:"sm",onClick:()=>{const s=h("tags")||[];p("tags",[...s,"urgente"])},children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Urgente"]}),e.jsxs(c,{type:"button",variant:"outline",size:"sm",onClick:()=>{const s=h("tags")||[];p("tags",[...s,"pendente"])},children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Pendente"]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsxs(c,{type:"button",variant:"outline",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Gerar PDF"]}),e.jsx(c,{type:"submit",children:"Criar Ordem de Serviço"})]})]})})]})}),e.jsx(x,{value:"list",children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(i,{children:"Ordens de Serviço"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:K.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.clientName}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Responsável: ",s.responsibleName]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${b(s.status)}`,children:N(s.status)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Entrega: ",j(new Date(s.deadline),"dd/MM/yyyy")]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Itens:"}),e.jsx("ul",{className:"text-sm text-gray-600",children:s.items.map((o,f)=>e.jsxs("li",{children:[o.description," - Qtd: ",o.quantity]},f))})]})]},s.id))})})]})})]})]})}export{se as default};
